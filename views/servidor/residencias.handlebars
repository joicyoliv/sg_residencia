<section id="breadcrumb">
    <div class="container">
      <ol class="breadcrumb">
        <li><a href="/servidor">▷ Início</a></li>
        <li class="active"><a href="/servidor/residencias">▷ Gerenciar Residências</a></li>
      </ol>
    </div>
  </section>

  <section id="main">
    <div class="container">
      <div class="row">
        <div class="col-md-3">
          <img class="img-responsive" src="/imgs/avatar2.png" alt>
          <div class="list-group">
            <div class="list-group-item active main-color-bg">
              <span class="glyphicon glyphicon-user" aria-hidden="true"></span> <b>{{user.nome}}</b>
            </div>
            <div class="list-group-item active main-color-bg">
              <span class="glyphicon glyphicon-education" aria-hidden="true"></span> <b>{{user.matricula}}</b>
            </div>
            <a href="/servidor/residencias" class="list-group-item"><span class="glyphicon glyphicon-home" aria-hidden="true"></span> Gerenciar Residências</a>
            <a href="/servidor/residentes" class="list-group-item"><span class="glyphicon glyphicon-user " aria-hidden="true"></span> Gerenciar Residentes </a>
            <a href="/servidor/solicitacoes" class="list-group-item"><span class="glyphicon glyphicon-list-alt" aria-hidden="true"></span> Gerenciar Solicitações</a>
            <a href="/servidor/servidores" class="list-group-item"><span class="glyphicon glyphicon-user " aria-hidden="true"></span> Gerenciar Servidores </a>
            <a href="/usuario/logout" class="list-group-item"><span class="glyphicon glyphicon-list-alt" aria-hidden="true"></span> Sair</a>
          </div>

      </div>

        <div class="col-md-9">
          <!-- Website Overview -->
          <div class="panel panel-default">
            <div class="panel-heading main-color-bg">
              <h2 class="panel-title"><b>Residências</b></h2>
            </div>
            <div class="panel-body">
              <div class="row">
                <div class="col-md-8">
                  <input class="form-control" type="text" placeholder="Filtrar Residência...">
                </div>
                <div class="col-md-2" >
                  <a class="btn btn-primary  pull-righ" href="./residencias/adicionar">Adicionar</a>
                </div>
              </div>

              <br>

              <table class="table table-striped table-hover">
                <tr>
                  <th>#</th>
                  <th>Nome</th>
                  <th>Operações</th>
                </tr>
                {{#each residencias}}
                <!-- Linhas com cada residencia -->
                <tr>
                  <td>{{@index}}</td>
                  <td>{{nome}}</td>
                  <td>
                    <button class="btn btn-default" data-toggle="modal" data-target="#myModal{{_id}}">Visualizar</button>
                    <a class="btn btn-default" href="/servidor/residencias/editar/{{_id}}">Editar</a>
                    <a class="btn btn-warning" href="/servidor/residencias/adicionar_quarto/{{_id}}">+ Quarto</a>
                    <a class="btn btn-danger" href="/servidor/residencias/deletar/{{_id}}">Deletar</a>
                  </td>
                </tr>
                <!-- Modal com detalhes de cada residencia -->
                <div class="modal fade" id="myModal{{_id}}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                  <div class="modal-dialog" role="document">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h4 class="modal-title">{{nome}}</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Fechar">
                          <span aria-hidden="true">&times;</span>
                        </button>
                      </div>
                      <div class="modal-body">
                        <p><b>Endereço: </b>{{endereco}}</p>
                        <p><b>Quartos: </b>
                        {{#quartos}}
                        <br>
                        <span style="color: green; font-weight:bold">{{titulo}} </span> -
                        Capcidade: <span style="color: green">{{capacidade}}</span> -
                        Membros: <span style="color: green">{{membros}}</span> -
                        Classficação de Sexo: <span style="color: green">{{sexo}}</span>
                        <br>
                        {{else}}
                        Não há quartos registrados nesta residência.
                        {{/quartos}}
                        </p>
                        <br>
                        <small class="font-italic text-right"><b>Data de criação: </b>{{criacao}}</small>
                        <br>
                        <small><b>Última atualização: </b>{{atualizacao}}</small>
                      </div>
                      <div class="modal-footer">
                        <a class="btn btn-default" href="/servidor/residencias/editar/{{_id}}">Editar</a>
                        <a class="btn btn-warning" href="/servidor/residencias/adicionar_quarto/{{_id}}">+ Quarto</a>
                        <a class="btn btn-danger" href="/servidor/residencias/deletar/{{_id}}">Deletar</a>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- fim modal -->
                {{else}}
                <tr>
                  <td colspan="3">Nenhuma residência registrada</td>
                </tr>
                {{/each}}
              </table>
            </div>
          </div>
          </div>
      </div>
    </div>
  </section>
